# RUDPServer

1. 개요
2. 구성

---

1. 개요

RUDP를 만들어 보고, 이를 테스트 하기 위한 프로젝트입니다.

RIO를 이용하려고 했으나, 구조가 UDP와는 어울리지 않는 것 같아 수정 예정입니다.

---

2. 구성

2.1 스레드 구성

* IORecvWorkerThread
  * 하나의 스레드만 존재하며, 하나의 소켓이 지속적으로 recvfrom()을 수행합니다.
  * 송신 받은 데이터 스트림을 버퍼에 셋하고, 적절한 LogicWorkerThread들 중 하나에 버퍼를 전달합니다.
  * LogicWorkerThread로 버퍼를 전달하면 이벤트 플래그를 셋하여 해당하는 스레드에 로직 실행을 전담시킵니다.

* LogicWorkerThread
  * n개의 스레드가 존재하며, IORecvWorkerThread 혹은, 외부에서 정지할 때, 이벤트가 셋 되어, 현재 해당 스레드의 큐에 저장 되어 있는 모든 버퍼를 처리합니다.
  * 생성된 패킷 처리와 세션 생성을 담당합니다.

* RetransmissionThread
  * n개의 스레드가 존재하며, 주기적으로 깨어나 아래를 수행합니다.
    * 송신한 패킷들이 정상적으로 송신 대상에 보내졌는지 확인하며, 보내지지 않았다면, 재전송을 합니다.
    * 일정 횟수 이상 송신에 실패한다면, 끊어진 세션이라고 판단하고, 해당 세션을 정리하는 과정을 거칩니다.
    * 로직 스레드에서 생성된 송신 패킷들을 send 합니다
    * 릴리즈 대상이 된 세션을 제거하는 역할을 합니다.

2.2 내부 주요 클래스 

---
